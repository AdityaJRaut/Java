package stream;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

public class MapGrouping {
	public static void main(String args[]) {

		List<Book> books=Arrays.asList(new Book("Book A", "Aditya","fiction"),
				new Book("Book B", "Bhushan","non-fiction"),
				new Book("Book C", "Dinesh","children"),
				new Book("Book D", "Nilesh","fiction"));
		
	List<String> newBooks= getBooks(books);
		System.out.println(newBooks);
	}

	private static List<String> getBooks(List<Book> books) {
		Map<String,List<Book>> bookGroup=books.stream().
				collect(Collectors.groupingBy(Book::getCategory));
		
		List<Book> newBookList =new ArrayList<>();
		bookGroup.forEach((category,booklList)->{
			booklList.forEach(book->newBookList.add(book.getBookName()));		
		});
		return newBookList;
	}
}
